async function initChat() {
    console.log("ðŸš€ System initializing...");
    
    // 1. KhÃ´i phá»¥c tráº¡ng thÃ¡i License tá»« IndexedDB
    await restoreSystemState();
    
    // 2. Kiá»ƒm tra vÃ  reset lÆ°á»£t dÃ¹ng náº¿u qua ngÃ y má»›i
    await checkAndResetDailyUsage();

    // 3. Thiáº¿t láº­p giao diá»‡n chÃ o má»«ng
    messagesArea.innerHTML = WELCOME_HTML;
    
    // 4. Khá»Ÿi táº¡o lá»‹ch sá»­ chat vá»›i System Prompt máº·c Ä‘á»‹nh
    chatHistory = [{ role: "system", content: config.systemPrompt }];
    
    // 5. Táº¡o Session ID má»›i dá»±a trÃªn timestamp
    currentSessionId = 'session_' + new Date().getTime();

    // 6. Cáº¥u hÃ¬nh Marked (Markdown) vÃ  Highlight.js (Code)
    if(window.marked && window.hljs) {
        marked.setOptions({
            highlight: (code, lang) => {
                if (lang && hljs.getLanguage(lang)) return hljs.highlight(code, { language: lang }).value;
                return hljs.highlightAuto(code).value;
            },
            breaks: true
        });
    }

    // 7. Cáº­p nháº­t UI Header
    renderHeaderStatus();
    updateLicenseStatusDisplay();
}
