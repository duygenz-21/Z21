<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid AI Visualizer</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar vá»›i luá»“ng lÃ m viá»‡c tá»« trÃªn xuá»‘ng -->
        <aside class="control-panel">
            <header class="app-header">
                <h1>ğŸ§œâ€â™€ï¸ Mermaid AI</h1>
            </header>

            <!-- Pháº§n 1: Code Editor -->
            <section class="section">
                <h3>ğŸ“ Mermaid Code</h3>
                <textarea id="mermaidCode" placeholder="graph TD;\nA[Start] --> B[Sáºµn sÃ ng];" rows="8"></textarea>
                <button id="renderBtn" class="btn">ğŸ¨ Render Diagram</button>
            </section>

            <!-- Pháº§n 2: AI Controls -->
            <section class="section">
                <h3>ğŸ¤– AI Assistant</h3>
                <textarea id="aiPrompt" placeholder="YÃªu cáº§u AI chá»‰nh sá»­a sÆ¡ Ä‘á»“..." rows="3"></textarea>
                <div class="button-group">
                    <button id="generateBtn" class="btn primary">âœ¨ Generate with AI</button>
                    <input type="file" id="fileInput" accept=".md,.mmd,.txt" class="file-input">
                </div>
            </section>

            <!-- Pháº§n 3: Configuration (cÃ³ thá»ƒ collapse) -->
            <section class="section config-section">
                <h3>âš™ï¸ Configuration</h3>
                <div class="config-grid">
                    <input type="password" id="apiKey" placeholder="OpenRouter API Key">
                    <input type="text" id="model" placeholder="Model" value="google/gemini-2.0-flash-exp">
                    <div class="config-row">
                        <input type="number" id="temperature" placeholder="Temp" value="0.7" step="0.1" min="0" max="1">
                        <input type="number" id="topP" placeholder="Top P" value="0.9" step="0.1" min="0" max="1">
                    </div>
                </div>
                <button id="saveConfigBtn" class="btn secondary">ğŸ’¾ Save Config</button>
            </section>
        </aside>

        <!-- Main Preview Area -->
        <main class="preview-panel">
            <div class="preview-container">
                <div id="diagramContainer" class="mermaid-diagram">
                    <!-- Diagram sáº½ render á»Ÿ Ä‘Ã¢y -->
                </div>
                <div id="loading" class="status-message hidden">
                    <div class="spinner"></div>
                    <p>AI Ä‘ang xá»­ lÃ½...</p>
                </div>
                <div id="errorLog" class="status-message error hidden"></div>
            </div>
        </main>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>